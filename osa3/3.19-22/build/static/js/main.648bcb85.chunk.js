(this.webpackJsonpnodetest=this.webpackJsonpnodetest||[]).push([[0],{13:function(e,n,t){},15:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),c=t(14),r=t.n(c),l=t(2),u=t(3),i=t.n(u),m="/api/persons",s=function(){return i.a.get(m).then((function(e){return e.data}))},f=function(e){return i.a.post(m,e).then((function(e){return e.data}))},d=function(e,n){return i.a.put("".concat(m,"/").concat(e),n).then((function(e){return e.data}))},g=function(e,n){var t=i.a.delete("".concat(m,"/").concat(e),n);return console.log("".concat(m,"/").concat(e),n),t.then((function(e){return e.data}))},b=(t(13),function(){var e=Object(a.useState)([{name:"Arto Hellas",number:"040"}]),n=Object(l.a)(e,2),t=n[0],c=n[1],r=Object(a.useState)(""),u=Object(l.a)(r,2),i=u[0],m=u[1],b=Object(a.useState)(""),v=Object(l.a)(b,2),p=v[0],E=v[1],h=Object(a.useState)(""),O=Object(l.a)(h,2),j=O[0],k=O[1],w=Object(a.useState)(null),y=Object(l.a)(w,2),S=y[0],R=y[1],C=Object(a.useState)(null),N=Object(l.a)(C,2),D=N[0],I=N[1],x=function(){return o.a.createElement("div",null," filter:",o.a.createElement("input",{value:j,onChange:function(e){console.log(e.target.value),k(e.target.value)}}))},A=function(){return o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("button clicked",e.target);var n={name:i,number:p},a=t.find((function(e){return e.name===n.name}));t.includes(a)?B(n,a.id):f(n).then((function(e){c(t.concat(e)),R("Added person ".concat(n.name)),m("")})),console.log(t)}},o.a.createElement("div",null," name:",o.a.createElement("input",{value:i,onChange:function(e){console.log(e.target.value),m(e.target.value)}})),o.a.createElement("div",null," number:",o.a.createElement("input",{value:p,onChange:function(e){console.log(e.target.value),E(e.target.value)}})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add")))},B=function(e,n){window.confirm("Person ".concat(i," is already in your phonebook. Replace?"))&&d(n,e).then((function(a){c(t.map((function(e){return e.id!==n?e:a}))),R("Replaced person ".concat(e.name),""),console.log("updated")}))},J=function(){console.log("name to show",j);var e=t.filter((function(e){return e.name.search(new RegExp(j,"i"))>-1}));return 0===e.length?t.map((function(e,n){return o.a.createElement("div",{key:n},e.name," ",e.number)})):e.map((function(e,n){return o.a.createElement("div",{key:n},e.name," ",e.number," ",o.a.createElement("button",{onClick:function(){return function(e,n){console.log("BUTTON",e.name,n),window.confirm("Do you really want to delete?")&&g(n,e).then((function(a){console.log("deleted object",e.name),c(t.filter((function(e){return e.id!==n}))),R("Deleted person ".concat(e.name)),m("")})).catch((function(n){I("Information of ".concat(e.name," has already been removed from server"))}))}(e,e.id)}},"delete")," ")}))};Object(a.useEffect)((function(){console.log("effect"),s().then((function(e){c(e)}))}),[]);var P=function(e){var n=e.message;return console.log("ISERROR",D),null===n?null:null!==D?o.a.createElement("div",{className:"error"},n):o.a.createElement("div",{className:"notification"},n)};return console.log("render",t.length,"persons"),console.log("checkerforpersons",t),o.a.createElement("div",null,o.a.createElement(x,null),o.a.createElement("h2",null,"Phonebook"),o.a.createElement(P,{message:S}),o.a.createElement(P,{message:D}),o.a.createElement(A,null),o.a.createElement("h2",null,"Numbers"),o.a.createElement("div",null,o.a.createElement(J,null)))});r.a.render(o.a.createElement(b,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.648bcb85.chunk.js.map